<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta description="Simple tools to help you interact with the rest of our community">  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <script src="./refreshWithTimestamp.js"></script>
  <title>TrueSight DAO DApp</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 1rem;
      padding: 1rem;
      min-height: 100vh;
      box-sizing: border-box;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 600px;
      width: 100%;
      background-color: white;
      padding: 1.5rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h1 {
      font-size: 1.8rem;
      color: #333;
      text-align: center;
      margin: 0.5rem 0 1.5rem;
    }
    h2 {
      font-size: 1.5rem;
      color: #333;
      margin: 1.5rem 0 0.8rem;
      border-bottom: 2px solid #007bff;
      padding-bottom: 0.3rem;
    }
    h3 {
      font-size: 1.2rem;
      color: #333;
      margin: 1rem 0 0.5rem;
    }
    p {
      font-size: 1rem;
      color: #555;
      text-align: left;
      margin: 0.8rem 0;
      line-height: 1.5;
    }
    ul, ol {
      font-size: 1rem;
      color: #555;
      margin: 0.5rem 0;
      padding-left: 1.5rem;
    }
    li {
      margin-bottom: 0.5rem;
    }
    a {
      color: #007bff;
      text-decoration: none;
      transition: color 0.2s;
    }
    a:hover {
      color: #0056b3;
      text-decoration: underline;
    }
    img {
      display: block;
      margin: 0 auto 1.5rem;
      max-width: 100%;
      height: auto;
    }
    #logo {
      height: 200px;
    }
    .button-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }
    button {
      background-color: #4CAF50;
      color: white;
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.1rem;
      margin: 0.5rem 0;
      width: 100%;
      max-width: 300px;
      transition: background-color 0.2s, transform 0.1s;
    }
    button:hover {
      background-color: #45a049;
      transform: scale(1.02);
    }
    button:active {
      transform: scale(0.98);
    }
    .section {
      margin: 1.5rem 0;
    }
    .module-card {
      background-color: #fafafa;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 1rem;
      margin: 1rem 0;
      transition: box-shadow 0.2s, transform 0.2s;
      box-shadow: 0 1px 4px rgba(0,0,0,0.05);
    }
    .module-card:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      transform: translateY(-2px);
    }
    .module-card h3 {
      margin-top: 0;
      font-size: 1.3rem;
      color: #007bff;
    }
    .module-card a {
      font-weight: bold;
    }
    .troubleshooting {
      background-color: #f8f9fa;
      padding: 1rem;
      border-radius: 5px;
      border: 1px solid #ddd;
      margin: 1rem 0;
    }
    code {
      background-color: #f0f0f0;
      padding: 0.2rem 0.4rem;
      border-radius: 3px;
      font-family: monospace;
    }
    @media (max-width: 600px) {
      body {
        margin: 0.5rem;
        padding: 0.5rem;
      }
      .container {
        padding: 1rem;
      }
      h1 {
        font-size: 1.5rem;
      }
      h2 {
        font-size: 1.3rem;
      }
      h3 {
        font-size: 1.1rem;
      }
      p, ul, ol {
        font-size: 0.95rem;
      }
      button {
        padding: 1rem;
        font-size: 1rem;
      }
      .module-card {
        padding: 0.8rem;
        margin: 0.8rem 0;
      }
      .module-card h3 {
        font-size: 1.15rem;
      }
      .troubleshooting {
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div style="text-align: center;">
      <img id="logo" height="200px" src="https://github.com/TrueSightDAO/.github/blob/main/assets/20240612_truesight_dao_logo_square.png?raw=true" alt="TrueSight DAO Logo"/>
    </div>
    <h1>TrueSight DAO DApp</h1>    
    <p>
      This repository provides decentralized application (DApp) tools for TrueSight DAO members, with an initial focus on the Agroverse cacao circles. These web-based utilities enable members to manage serialized cacao bags, scan QR codes, and share sale or expense information seamlessly.
    </p>

    <div class="section">
      <h2>Modules</h2>

      <div class="module-card">
        <h3><a href="./create_signature.html">Digital Signature Creator</a></h3>
        <p>Manage your secure digital identity for DAO operations.</p>
        <p><strong>Features</strong>:</p>
        <ul>
          <li>Generate a unique cryptographic key pair for identity verification</li>
          <li>Store keys securely in the browser's local storage</li>
          <li>Register your public key with the DAO community</li>
          <li>Use your digital signature for authentication in other DAO tools</li>
        </ul>
        <p><strong>Usage</strong>:</p>
        <ol>
          <li>Open <a href="./create_signature.html">Digital Signature Creator</a> in a modern browser (e.g., Chrome, Firefox, Safari).</li>
          <li>Click <strong>Create Digital Signature</strong> to generate your key pair.</li>
          <li>Securely note your private key (never share it).</li>
          <li>Click <strong>Register It with Our Community</strong> to share your public key via Telegram or WhatsApp.</li>
          <li>Use your digital signature to authenticate with other DAO tools.</li>
        </ol>
      </div>

      <div class="module-card">
        <h3><a href="./withdraw_voting_rights.html">Voting Rights Cash Out</a></h3>
        <p>Exchange your DAO voting rights for other assets.</p>
        <p><strong>Features</strong>:</p>
        <ul>
          <li>View your current voting rights balance</li>
          <li>Check the current value per voting right</li>
          <li>Submit signed requests to exchange voting rights</li>
          <li>Share withdrawal requests for community verification</li>
        </ul>
        <p><strong>Usage</strong>:</p>
        <ol>
          <li>Open <a href="./withdraw_voting_rights.html">Voting Rights Cash Out</a> in a modern browser.</li>
          <li>The system verifies your digital signature automatically.</li>
          <li>Review your available voting rights and their valuation.</li>
          <li>Enter the number of voting rights to cash out and your asking price.</li>
          <li>Click <strong>Submit Request</strong> to generate a signed withdrawal message.</li>
          <li>Share the request with the DAO community via Telegram or WhatsApp.</li>
        </ol>
      </div>

      <div class="module-card">
        <h3><a href="./verify_request.html">Withdrawal Request Verifier</a></h3>
        <p>Verify the authenticity of voting rights withdrawal requests.</p>
        <p><strong>Features</strong>:</p>
        <ul>
          <li>Validate the digital signature of a withdrawal request</li>
          <li>Confirm the signature matches a registered DAO member</li>
          <li>Display member details and transaction information</li>
          <li>Ensure the request is genuine (does not approve the request)</li>
        </ul>
        <p><strong>Usage</strong>:</p>
        <ol>
          <li>Open <a href="./verify_request.html">Withdrawal Request Verifier</a> in a modern browser.</li>
          <li>Paste the complete withdrawal request (including digital signature and transaction ID) into the textarea.</li>
          <li>Click <strong>Check Request</strong> to verify.</li>
          <li>Review the results, including member name, signature status, and transaction details.</li>
        </ol>
      </div>

      <div class="module-card">
        <h3><a href="./scanner.html">Serialized Cacao Bag Scanner</a></h3>
        <p>Scan and report cacao bag sales using QR codes.</p>
        <p><strong>Features</strong>:</p>
        <ul>
          <li>Scan QR codes on cacao bags using the device camera</li>
          <li>Extract the bag’s unique identifier (<code>qr_code</code> parameter)</li>
          <li>Generate a standardized sale message (e.g., <code>ABC123 – this bag of cacao just sold by me for $25.</code>)</li>
          <li>Share the message via native share (mobile) or clipboard (desktop) to the Town Hall channel</li>
        </ul>
        <p><strong>Usage</strong>:</p>
        <ol>
          <li>Open <a href="./scanner.html">Serialized Cacao Bag Scanner</a> in a modern browser with camera support.</li>
          <li>Grant camera access when prompted.</li>
          <li>Point the camera at the QR code on the cacao bag.</li>
          <li>Click <strong>Scan QR Code</strong> to extract the <code>qr_code</code> parameter.</li>
          <li>Click <strong>Report Sold</strong> to share or copy the sale message.</li>
        </ol>
      </div>

      <div class="module-card">
        <h3><a href="./report_dao_expenses.html">Inventory Expense Reporter</a></h3>
        <p>Report expenses for DAO inventory resources.</p>
        <p><strong>Features</strong>:</p>
        <ul>
          <li>Select a DAO member from an API-driven dropdown</li>
          <li>Choose an inventory resource and view its available quantity</li>
          <li>Enter the quantity expensed</li>
          <li>Attach an image or PDF file</li>
          <li>Share or copy the standardized expense report</li>
        </ul>
        <p><strong>Usage</strong>:</p>
        <ol>
          <li>Open <a href="./report_dao_expenses.html">Inventory Expense Reporter</a> in a modern browser.</li>
          <li>Select a <strong>DAO Member</strong> from the dropdown.</li>
          <li>Choose an <strong>Inventory Resource</strong> and review its available quantity.</li>
          <li>Enter the <strong>Quantity Expensed</strong>.</li>
          <li>Optionally attach an image or PDF.</li>
          <li>Click <strong>Submit Expense Report</strong> to share (mobile) or copy (desktop).</li>
        </ol>
      </div>

      <div class="module-card">
        <h3><a href="./report_inventory_movement.html">Inventory Movement Reporter</a></h3>
        <p>Report inventory movements with camera integration.</p>
        <p><strong>Features</strong>:</p>
        <ul>
          <li>Select a warehouse manager from an API-driven dropdown</li>
          <li>Choose an inventory item and view its available quantity</li>
          <li>Select a recipient from the contact list</li>
          <li>Enter the quantity to move</li>
          <li>Capture and share a camera snapshot with the report</li>
        </ul>
        <p><strong>Usage</strong>:</p>
        <ol>
          <li>Open <a href="./report_inventory_movement.html">Inventory Movement Reporter</a> in a modern browser with camera support.</li>
          <li>Grant camera access when prompted.</li>
          <li>Select a <strong>Warehouse Manager</strong> from the dropdown.</li>
          <li>Choose an <strong>Inventory Item</strong> and review its available quantity.</li>
          <li>Select a <strong>Recipient</strong> from the contacts dropdown.</li>
          <li>Enter the <strong>Quantity to Move</strong>.</li>
          <li>Click <strong>Report Inventory Movement</strong> to share (mobile) or copy (desktop) the report with a camera snapshot.</li>
        </ol>
      </div>
    </div>

    <div class="section">
      <h2>Future Modules</h2>
      <ul>
        <li>Contributions reporting for $TDG awards</li>
        <li>Voting rights marketplace</li>
        <li>DAO governance proposal system</li>
      </ul>
    </div>

    <div class="section troubleshooting">
      <h2>Troubleshooting</h2>
      <p>If the latest version of a page does not load on your mobile device:</p>
      <ul>
        <li><strong>Clear Browser Cache</strong>: Go to your browser settings (e.g., Chrome: Settings → Privacy and security → Clear browsing data; Safari: Settings → Safari → Clear History and Website Data).</li>
        <li><strong>Use Incognito Mode</strong>: Open the site in a private/incognito tab to bypass cached content.</li>
        <li><strong>Append Query String</strong>: Add <code>?v=2</code> to the URL (e.g., <code>https://your-site.github.io/?v=2</code>) to force a fresh load.</li>
        <li><strong>Wait for CDN Refresh</strong>: GitHub Pages may take up to 10 minutes to reflect changes due to CDN caching. Check the deployment status in the repository’s <strong>Actions</strong> tab.</li>
      </ul>
    </div>

    <div class="section">
      <h2>License</h2>
      <p>This project is licensed under the terms in the <a href="./LICENSE">LICENSE</a> file.</p>
    </div>

    <div class="button-container">
      <button onclick="window.location.href='./create_signature.html'">Get Started</button>
    </div>
  </div>
  </body>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js', { scope: './' })
        .then(reg => console.log('Service Worker registered with scope:', reg.scope))
        .catch(err => console.warn('Service Worker registration failed:', err));
    }
  </script>
</html>